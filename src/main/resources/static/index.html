<!DOCTYPE html>
<html ng-app="travelingTips">
<head>
    <meta charset="utf-8"/>
    <title>Traveling Tips</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDEFSPKU4x3OT2MRQsjm5v2Bp7bwo1YQpI"></script>
    <script type="text/javascript" src="scripts/libraries/ui-bootstrap-tpls-2.5.0.min.js"></script>
    <script type="text/javascript" src="scripts/mapController.js"></script>
    
	<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>-->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h4> Crea/Edita tu viaje: </h4>
    <div class="row">
        <div ng-controller="MapController">

            <script type="text/ng-template" id="alert.html">
                <div ng-transclude></div>
            </script>
            <div uib-alert ng-repeat="alert in alerts" ng-class="'alert-' + alert.type" close="closeAlert($index)" dismiss-on-timeout="3000">{{alert.msg}}</div>

            <div class="col-sm-6">
                <div class="panel panel-default">
                    <div class="panel-heading">Marca por donde pasaste en el mapa y compartilo con otros!</div>
                    <div class="panel-body">
                        <input id="title" type="text" class="form-control inputText" placeholder="Titulo del viaje" 
                            ng-model="travelTitle">
                        <div id="map"></div>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="panel panel-default" ng-show="showCommentSection">
                    <div class="panel-heading">Contanos mas sobre tu viaje!</div>
                    <div class="panel-body">
                        <div ng-repeat="marker in mapMarkers">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-map-marker"></span>
                                    {{marker.sequence}}
                                </span>
                                <span class="input-group-addon" uib-rating ng-model="ratings[$index]" read-only="isReadonly" on-hover="hoveringOver(value)" aria-labelledby="default-rating"></span>
                                </span>
                            </div>
                            <textarea class="form-control" rows="3" id="comment" maxlength="200" 
                            	ng-model="comments[$index]" placeholder="Escribi un comentario sobre el lugar!">
                        	</textarea>
                        </div>
                    </div>
                </div>
                <button id="okMap" type="button" class="btn btn-default" ng-show="!showCommentSection" ng-click="openCommentSection()" ng-disabled="!(isTitleComplete && isMapMarked)">OK</button>
                <button id="saveTravel" type="button" class="btn btn-default" ng-show="showCommentSection" 
                    ng-disabled="!(isTitleComplete && isMapMarked && (comments.length == mapMarkers.length) && (ratings.length == mapMarkers.length))" ng-click="saveTravel()">Save</button>
            </div>
        </div>
    </div>
</body>
</html>
